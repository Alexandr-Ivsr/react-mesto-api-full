{"version":3,"sources":["components/Header.js","image/avatar.jpg","image/edit-button.svg","image/add-button.svg","image/icon-remove.svg","contexts/CurrentUserContext.js","components/Card.js","components/Footer.js","components/Main.js","image/icon-close.svg","components/PopupWithForm.js","components/ImagePopup.js","utils/api.js","utils/auth.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup .js","components/Registr.js","components/Login.js","image/icon-tooltip-success.svg","image/icon-tooltip-error.svg","components/InfoTooltip.js","components/RequireAuth.js","components/App.js","index.js"],"names":["Header","props","location","useLocation","className","to","target","isLoggedIn","userEmail","pathname","onClick","onLogOut","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","userInfo","useContext","isOwn","owner","_id","isLiked","likes","some","i","src","RemoveIcon","alt","link","name","length","Footer","Date","getFullYear","Main","avatar","AvatarImage","onEditAvatar","onEditProfile","EditButtonIcon","about","onAddPlace","AddButtonIcon","cards","map","item","PopupWithForm","isOpen","title","onSubmit","children","type","buttonText","onClose","closeIcon","ImagePopup","CloseIcon","Api","baseUrl","headers","this","_baseUrl","_headers","res","ok","json","Promise","reject","status","fetch","credentials","then","_getResponseData","method","body","JSON","stringify","id","evt","api","BASE_URL","checkResponse","EditProfilePopup","useState","setName","description","setDescription","useEffect","preventDefault","onUpdateUser","required","value","onChange","minLength","maxLength","placeholder","EditAvatarPopup","inputRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","placeName","setPlaceName","url","setUrl","onAddNewCard","Registr","emailValue","setEmailValue","passwordValue","setPasswordValue","onRegister","password","email","Login","onAuthorization","InfoTooltip","isSuccess","iconTooltipSuccess","iconTooltipError","RequireAuth","Component","component","loggedIn","App","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isInfoTooltipPopupOpen","setInfoTooltipPopupOpen","isRequestSuccess","setIsRequestSuccess","selectedCard","setSelectedCard","currentUser","setCurrentUser","setCards","setLoggedIn","emailUser","setEmailUser","navigate","useNavigate","getCardsData","reverse","catch","error","console","log","closeByEsc","key","closeAllPopups","document","addEventListener","removeEventListener","Provider","path","element","changeLikeCardStatus","newCard","state","c","deleteCardData","filter","data","auth","finally","updateProfileData","updateProfileAvatar","reset","createCardData","ReactDOM","render","StrictMode","basename","getElementById"],"mappings":"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","file":"static/js/main.269e9937.chunk.js","sourcesContent":["import React from \"react\"\nimport { Link, useLocation } from \"react-router-dom\"\n\nexport default function Header(props) {\n  const location = useLocation();\n\n  return (\n    <header className=\"header\">\n      <Link className=\"header__logo\" to=\"/\" target=\"_self\"></Link>\n      <div className=\"header__wrapper\">\n        {props.isLoggedIn ? ( <p className=\"header__user-information\">{props.userEmail}</p> ) : '' }\n        {location.pathname === \"/sign-up\" ? (\n            <Link to=\"/sign-in\" className=\"header__link\">Войти</Link>\n          ) : (\n            <Link to={props.isLoggedIn ? \"/sign-in\" : \"/sign-up\"} onClick={props.onLogOut} className=\"header__link\">{props.isLoggedIn ? 'Выйти' : 'Регистрация'}</Link>\n          )\n        }\n      </div>\n    </header>\n  )\n};","export default __webpack_public_path__ + \"static/media/avatar.f55076d0.jpg\";","export default __webpack_public_path__ + \"static/media/edit-button.8667ac4a.svg\";","export default __webpack_public_path__ + \"static/media/add-button.d86bb2ed.svg\";","export default __webpack_public_path__ + \"static/media/icon-remove.a274c87c.svg\";","import React from \"react\";\n\nexport const CurrentUserContext = React.createContext();","import React from 'react';\nimport RemoveIcon from \"../image/icon-remove.svg\";\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\n\nexport default function Card({card, onCardClick, onCardLike, onCardDelete}) {\n  const userInfo = React.useContext(CurrentUserContext);\n  const isOwn = card.owner === userInfo._id;\n  const isLiked = card.likes.some(i => i === userInfo._id);\n\n  const handleClick = () => {\n    onCardClick(card);\n  };\n\n  const handleLike = () => {\n    onCardLike(card);\n  };\n\n  const handleDeleteClick = () => {\n    onCardDelete(card);\n  }\n  \n  return (\n    <div className=\"places__item\">\n      {isOwn && (<button className=\"places__remove-button\" onClick={handleDeleteClick} >\n        <img src={RemoveIcon} alt=\"Удалить\" />\n      </button>)}\n      <img onClick={handleClick} className=\"places__image\" src={card.link} alt={card.name} />\n      <div className=\"places__footer\">\n        <h2 className=\"places__name\">{card.name}</h2>\n        <div className=\"places__wrapper\">\n          <button onClick={handleLike} className={`places__like-button ${isLiked ? \"places__like-button_active\" : \"\"}`}></button>\n          <div className=\"places__like-number\">{card.likes.length}</div>\n        </div>\n      </div>\n    </div>\n  )\n}","export default function Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">© {new Date().getFullYear()} Mesto Russia</p>\n    </footer>\n  );\n}","import React from 'react';\nimport AvatarImage from \"../image/avatar.jpg\";\nimport EditButtonIcon from \"../image/edit-button.svg\";\nimport AddButtonIcon from \"../image/add-button.svg\";\nimport Card from './Card';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport Footer from './Footer';\n\nexport default function Main(props) {\n  const userInfo = React.useContext(CurrentUserContext);\n\n  return (\n    <>\n      <main>\n        <section className=\"profile\">\n          <div className=\"profile__avatar-wrapper\">\n            <img className=\"profile__avatar\" src={userInfo.avatar ? userInfo.avatar : AvatarImage} alt=\"Аватар профиля\" />\n            <button className=\"profile__avatar-button\" onClick={props.onEditAvatar}></button>\n          </div>\n          <div className=\"profile__container\">\n            <div className=\"profile__wrapper\">\n              <h1 className=\"profile__name\">{userInfo.name}</h1>\n              <button className=\"profile__edit-button\" onClick={props.onEditProfile}>\n                <img className=\"profile__edit-button-logo\" src={EditButtonIcon} alt=\"Редактирование профиля\" />\n              </button>\n            </div>\n            <p className=\"profile__info\">{userInfo.about}</p>\n          </div>\n          <button className=\"profile__add-button\" onClick={props.onAddPlace}>\n            <img className=\"profile__add-button-logo\" src={AddButtonIcon} alt=\"Добавление\" />\n          </button>\n        </section>\n        <section className=\"places\">\n          {props.cards.map((item) => {\n            return (\n              <Card key={item._id} card={item} onCardClick={props.onCardClick} onCardLike={props.onCardLike} onCardDelete={props.onCardDelete} />\n            )\n          })}\n        </section>\n      </main>\n      <Footer />\n    </>\n  );\n}","export default __webpack_public_path__ + \"static/media/icon-close.507ea218.svg\";","import closeIcon from \"../image/icon-close.svg\";\n\nexport default function PopupWithForm(props) {\n\n  return (\n    <article className={`popup popup_type_${props.name} ${props.isOpen ? 'popup_opened' : ''}`}>\n      <div className=\"popup__container\">\n        <h3 className=\"popup__title\">{props.title}</h3>\n        <form className=\"popup__form\" onSubmit={props.onSubmit} name={props.name}>\n          {props.children}\n          <button className=\"popup__btn-save\" type=\"submit\">{props.buttonText}</button>\n        </form>\n        <button className=\"popup__btn-close\" onClick={props.onClose}>\n          <img className=\"popup__btn-close-icon\" src={closeIcon} alt=\"Закрыть\" />\n        </button>\n      </div>\n    </article>\n  )\n}","import CloseIcon from \"../image/icon-close.svg\";\n\nexport default function ImagePopup({card, onClose}) {\n  return (\n    <article className={`popup popup_type_image ${card ? 'popup_opened' : ''}`}>\n      <div className=\"popup__image-container\">\n        <button className=\"popup__btn-close\" onClick={onClose}>\n          <img className=\"popup__btn-close-icon\" src={CloseIcon} alt=\"Закрыть\" />\n        </button>\n        <img className=\"popup__place-img\" src={card.link} alt={card.name} />\n        <p className=\"popup__place-name\">{card.name}</p>\n      </div>\n    </article>\n  );\n}","class Api {\n  constructor({baseUrl, headers}) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  _getResponseData(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    else {\n      return Promise.reject(`Ошибка: ${res.status}`);\n    }\n  }\n\n  getProfileData() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: this._headers,\n\t\t  credentials: 'include',\n    })\n    .then((res) => {\n      return this._getResponseData(res);\n    })\n  }\n\n  getCardsData() {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: this._headers,\n\t\t  credentials: 'include',\n    })\n    .then((res) => {\n      return this._getResponseData(res);\n    })\n  }\n\n  updateProfileData({name, about}) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n\t\t  credentials: 'include',\n      body: JSON.stringify({\n        name,\n        about\n      })\n    })\n    .then((res) => {\n      return this._getResponseData(res);\n    })\n  }\n\n  createCardData({name, link}) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n\t\t  credentials: 'include',\n      body: JSON.stringify({\n        name,\n        link\n      })\n    })\n    .then((res) => {\n      return this._getResponseData(res);\n    })\n  }\n\n  deleteCardData(id, isOwn) {\n    if (isOwn) {\n      return fetch(`${this._baseUrl}/cards/${id}`, {\n        method: 'DELETE',\n        headers: this._headers,\n\t\t    credentials: 'include',\n      })\n      .then((res) => {\n        return this._getResponseData(res);\n      })\n    }\n  }\n\n  changeLikeCardStatus(id, isLiked) {\n    if (isLiked) {\n      return fetch(`${this._baseUrl}/cards/${id}/likes`, {\n        method: 'DELETE',\n        headers: this._headers,\n\t\t    credentials: 'include',\n      })\n      .then((res) => {\n        return this._getResponseData(res);\n      })\n    } else {\n      return fetch(`${this._baseUrl}/cards/${id}/likes`, {\n        method: 'PUT',\n        headers: this._headers,\n\t\t    credentials: 'include',\n      })\n      .then((res) => {\n        return this._getResponseData(res);\n      })\n    }\n  }\n\n  updateProfileAvatar({avatar}, evt) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      credentials: 'include',\n      body: JSON.stringify({\n        avatar\n      })\n    })\n    .then((res) => {\n      return this._getResponseData(res);\n    })\n  }\n};\n\nconst api = new Api({\n  baseUrl: 'http://api.project.mesto.nomoredomains.work',\n  headers: {\n    'Content-Type': 'application/json',\n  }\n});\n\nexport default api;","export const BASE_URL = 'http://api.project.mesto.nomoredomains.work';\n\nconst checkResponse = (res) => {\n  if (res.ok) {\n    return res.json();\n  }\n  else {\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }\n}\n\n// регистрация, отправляем данные юзера\nexport const register = ({ email, password }) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({ email, password })\n  })\n    .then((res) => {\n      return checkResponse(res);\n    })\n};\n\n// авторизация\nexport const authorization = (data) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    credentials: 'include',\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(data)\n  })\n    .then((res) => {\n      return checkResponse(res);\n    })\n};\n\n// проверка токена для входа\nexport const checkToken = () => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    credentials: 'include',\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n  })\n    .then((res) => {\n      return checkResponse(res);\n    })\n}\n\n// выход юзера, очищение куков\nexport const logOut = () => {\n  return fetch(`${BASE_URL}/signout`, {\n    method: 'GET',\n    credentials: 'include',\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n  })\n    .then((res) => {\n      return checkResponse(res);\n    })\n}","import React, { useState, useEffect } from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nexport default function EditProfilePopup(props) {\n  const [name, setName] = useState('');\n  const [description, setDescription] = useState('');\n  const userInfo = React.useContext(CurrentUserContext);\n\n  useEffect(() => {\n    setName(userInfo.name);\n    setDescription(userInfo.about);\n  }, [userInfo, props.isOpen]);\n\n  const handleChangeName = (evt) => {\n    setName(evt.target.value);\n  };\n\n  const handleChangeDescription = (evt) => {\n    setDescription(evt.target.value);\n  };\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n\n    props.onUpdateUser({\n      name,\n      about: description,\n    });\n  };\n\n  return (\n    <PopupWithForm title=\"Редактировать профиль\" name=\"profile\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit} buttonText=\"Сохранить\">\n      <div className=\"popup__inputs-wrapper\">\n        <input required className=\"popup__input\" value={name} onChange={handleChangeName} id=\"profile-name\" minLength=\"2\" maxLength=\"40\" type=\"text\" name=\"name\" placeholder=\"Имя\" />\n        <span className=\"popup__error\" id=\"profile-name-error\"></span>\n        <input required className=\"popup__input\" value={description} onChange={handleChangeDescription} id=\"profile-about\" minLength=\"2\" maxLength=\"200\" type=\"text\" name=\"about\" placeholder=\"Род деятельности\" />\n        <span className=\"popup__error\" id=\"profile-about-error\"></span>\n      </div>\n    </PopupWithForm>\n  )\n\n}","import React, { useRef } from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nexport default function EditAvatarPopup(props) {\n\tconst inputRef = useRef();\n\n\tconst handleSubmit = (evt) => {\n\t\tevt.preventDefault();\n\n\t\tprops.onUpdateAvatar({\n\t\t\tavatar: inputRef.current.value,\n\t\t}, evt)\n\t};\n\n\treturn (\n\t\t<PopupWithForm title=\"Обновить аватар\" name=\"avatar\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit} buttonText=\"Сохранить\">\n\t\t\t<div className=\"popup__inputs-wrapper\">\n\t\t\t\t<input required className=\"popup__input\" id=\"profile-avatar\" type=\"url\" name=\"avatar\" placeholder=\"Ссылка на аватар\" ref={inputRef} />\n\t\t\t\t<span className=\"popup__error\" id=\"profile-avatar-error\"></span>\n\t\t\t</div>\n\t\t</PopupWithForm>\n\t)\n}","import React, { useState, useEffect } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nexport default function AddPlacePopup(props) {\n\tconst [placeName, setPlaceName] = useState('');\n\tconst [url, setUrl] = useState('');\n\n\tuseEffect(() => {\n\t\tsetPlaceName('');\n\t\tsetUrl('');\n\t}, [props.isOpen])\n\n\tconst handleChangePlaceName = (evt) => {\n\t\tsetPlaceName(evt.target.value);\n\t};\n\n\tconst handleChangeUrl = (evt) => {\n\t\tsetUrl(evt.target.value);\n\t};\n\n\tconst handleSubmit = (evt) => {\n\t\tevt.preventDefault();\n\n\t\tprops.onAddNewCard({\n\t\t\tname: placeName,\n\t\t\tlink: url,\n\t\t})\n\t};\n\n\treturn (\n\t\t<PopupWithForm title=\"Новое место\" name=\"place\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit} buttonText=\"Создать\">\n\t\t\t<div className=\"popup__inputs-wrapper\">\n\t\t\t\t<input required className=\"popup__input\" value={placeName} onChange={handleChangePlaceName} type=\"text\" id=\"place-name\" minLength=\"2\" maxLength=\"30\" name=\"name\" placeholder=\"Название\" />\n\t\t\t\t<span className=\"popup__error\" id=\"place-name-error\"></span>\n\t\t\t\t<input required className=\"popup__input\" value={url} onChange={handleChangeUrl} type=\"url\" name=\"link\" id=\"place-link\" placeholder=\"Ссылка на картинку\" />\n\t\t\t\t<span className=\"popup__error\" id=\"place-link-error\"></span>\n\t\t\t</div>\n\t\t</PopupWithForm>\n\t)\n}","import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\n\nexport default function Registr(props) {\n  const [emailValue, setEmailValue] = useState('');\n  const [passwordValue, setPasswordValue] = useState('');\n\n  const handleChangeEmail = (evt) => {\n    setEmailValue(evt.target.value);\n  }\n\n  const handleChangePassword = (evt) => {\n    setPasswordValue(evt.target.value);\n  }\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n\n    props.onRegister({\n      password: passwordValue,\n      email: emailValue\n    })\n\n  }\n\n  return (\n    <div className=\"form-registr\">\n      <h3 className=\"form-registr__title\">Регистрация</h3>\n      <form className=\"form-registr__form\" onSubmit={handleSubmit}>\n        <div className=\"form-registr__inputs-wrapper\">\n          <input required className=\"form-registr__input\" onChange={handleChangeEmail} value={emailValue} type=\"email\" id=\"user-email\" minLength=\"2\" maxLength=\"30\" name=\"email\" placeholder=\"Email\" />\n          <input required className=\"form-registr__input\" onChange={handleChangePassword} value={passwordValue} type=\"password\" id=\"user-password\" minLength=\"6\" maxLength=\"30\" name=\"password\" placeholder=\"Пароль\" />\n        </div>\n        <button className=\"form-registr__btn-save\" type=\"submit\">Зарегистрироваться</button>\n        <Link to=\"/sign-in\" className=\"form-registr__link\">Уже зарегистрированы? Войти</Link>\n      </form>\n    </div>\n  )\n}\n","import React, { useState } from 'react';\n\nexport default function Login(props) {\n\tconst [emailValue, setEmailValue] = useState('');\n\tconst [passwordValue, setPasswordValue] = useState('');\n\n\tconst handleChangeEmail = (evt) => {\n\t\tsetEmailValue(evt.target.value);\n\t}\n\n\tconst handleChangePassword = (evt) => {\n\t\tsetPasswordValue(evt.target.value);\n\t}\n\n\tconst handleSubmit = (evt) => {\n    evt.preventDefault();\n\n\t\tprops.onAuthorization({\n\t\t\t\"password\": passwordValue,\n    \t\"email\": emailValue,\n\t\t});\n\t}\n\n\n\treturn (\n\t\t<div className=\"form-registr\">\n\t\t\t<h3 className=\"form-registr__title\">Вход</h3>\n\t\t\t<form className=\"form-registr__form\" onSubmit={handleSubmit}>\n\t\t\t\t<div className=\"form-registr__inputs-wrapper\">\n\t\t\t\t\t<input required className=\"form-registr__input\" value={emailValue} onChange={handleChangeEmail} type=\"email\" id=\"user-email\" minLength=\"6\" maxLength=\"30\" name=\"email\" placeholder=\"Email\" />\n\t\t\t\t\t<input required className=\"form-registr__input\" value={passwordValue} onChange={handleChangePassword} type=\"password\" id=\"user-password\" minLength=\"6\" maxLength=\"15\" name=\"password\" placeholder=\"Пароль\" />\n\t\t\t\t</div>\n\t\t\t\t<button className=\"form-registr__btn-save\" type=\"submit\">Войти</button>\n\t\t\t</form>\n\t\t</div>\n\t)\n}","export default __webpack_public_path__ + \"static/media/icon-tooltip-success.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/icon-tooltip-error.df8eddf6.svg\";","import React from 'react';\nimport closeIcon from \"../image/icon-close.svg\";\nimport iconTooltipSuccess from \"../image/icon-tooltip-success.svg\";\nimport iconTooltipError from \"../image/icon-tooltip-error.svg\";\n\nexport default function InfoTooltip(props) {\n\n\treturn (\n\t\t<article className={`popup popup_type_tooltip ${props.isOpen ? 'popup_opened' : ''}`}>\n\t\t\t<div className=\"popup__container\">\n\t\t\t\t<img className=\"popup__tooltip-icon\" alt=\"Уведомление\" src={props.isSuccess ? iconTooltipSuccess : iconTooltipError} />\n\t\t\t\t<p className=\"popup__tooltip-message\">\n\t\t\t\t\t{props.isSuccess ? (\n\t\t\t\t\t\t<>Вы успешно зарегистрировались!</>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<>Что-то пошло не так! Попробуйте ещё раз.</>\n\t\t\t\t\t)}\n\t\t\t\t</p>\n\t\t\t\t<button className=\"popup__btn-close\" onClick={props.onClose}>\n\t\t\t\t\t<img className=\"popup__btn-close-icon\" src={closeIcon} alt=\"Закрыть\" />\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</article>\n\t)\n}","import React from \"react\";\nimport { Navigate } from \"react-router-dom\";\n\nexport default function RequireAuth({component: Component, ...props}) {\n\treturn props.loggedIn ? <Component {...props} /> : <Navigate to=\"/sign-in\" />\n}","import React, { useState, useEffect } from 'react';\nimport { Route, Routes, useNavigate } from 'react-router-dom';\nimport Header from './Header';\nimport Main from './Main';\nimport PopupWithForm from './PopupWithForm';\nimport ImagePopup from './ImagePopup';\nimport api from '../utils/api.js';\nimport * as auth from '../utils/auth.js'\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup ';\nimport Registr from './Registr';\nimport Login from './Login';\nimport InfoTooltip from './InfoTooltip';\nimport RequireAuth from './RequireAuth';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction App() {\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = useState(false);\n  const [isInfoTooltipPopupOpen, setInfoTooltipPopupOpen] = useState(false);\n  const [isRequestSuccess, setIsRequestSuccess] = useState(false);\n  const [selectedCard, setSelectedCard] = useState(null);\n  const [currentUser, setCurrentUser] = useState({ name: '', about: '' });\n  const [cards, setCards] = useState([]);\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [emailUser, setEmailUser] = useState('');\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    if (loggedIn) {\n      api.getCardsData()\n        .then((res) => {\n          setCards(res.reverse());\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    }\n  }, [loggedIn]);\n\n  // проверка токена при загрузке страницы\n  useEffect(() => {\n    auth.checkToken()\n      .then((res) => {\n        setLoggedIn(true);\n        setCurrentUser(res);\n        setEmailUser(res.email);\n        navigate(\"/\");\n      })\n      .catch((error) => {\n        console.log(error);\n      })\n  }, []);\n\n  useEffect(() => {\n    const closeByEsc = (evt) => {\n      if (evt.key === 'Escape') {\n        closeAllPopups();\n      }\n    }\n\n    document.addEventListener('keydown', closeByEsc);\n\n    return () => document.removeEventListener('keydown', closeByEsc);\n  }, []);\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i === currentUser._id);\n    api.changeLikeCardStatus(card._id, isLiked)\n      .then((newCard) => {\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  function handleCardDelete(card) {\n    const isOwn = card.owner === currentUser._id;\n\n    api.deleteCardData(card._id, isOwn)\n      .then(() => {\n        setCards((state) => state.filter((item) => item._id !== card._id))\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  const handleEditAvatarClick = () => {\n    setEditAvatarPopupOpen(true);\n  };\n\n  const handleEditProfileClick = () => {\n    setEditProfilePopupOpen(true);\n  };\n\n  const handleAddPlaceClick = () => {\n    setAddPlacePopupOpen(true);\n  };\n\n  const handleCardClick = (card) => {\n    setSelectedCard(card);\n  }\n\n  const handleUpdateUser = (data) => {\n    api.updateProfileData(data)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((error) => {\n        console.log(error);\n      })\n  };\n\n  const handleUpdateAvatar = (data, evt) => {\n    api.updateProfileAvatar(data, evt)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n        evt.target.reset();\n      })\n      .catch((error) => {\n        console.log(error);\n      })\n  };\n\n  const handleAddPlaceSubmit = (data) => {\n    api.createCardData(data)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((error) => {\n        console.log(error);\n      })\n  };\n  // Регистрация\n  const handleUserRegister = (data) => {\n    auth.register(data)\n      .then((res) => {\n        navigate(\"/sign-in\");\n        setIsRequestSuccess(true);\n      })\n      .catch((error) => {\n        console.log(error);\n        setIsRequestSuccess(false);\n      })\n      .finally(() => {\n        setInfoTooltipPopupOpen(true);\n      })\n  }\n  // Авторизация, отправка данных\n  const handleUserAuth = (data) => {\n    const userEmail = data.email;\n    auth.authorization(data)\n      .then((res) => {\n        setLoggedIn(true);\n        setCurrentUser(res);\n        setEmailUser(userEmail);\n        navigate(\"/\");\n      })\n      .catch((error) => {\n        console.log(error);\n        setIsRequestSuccess(false);\n        setInfoTooltipPopupOpen(true);\n      })\n  }\n\n  // удаление токена, выход из профиля юзера\n  const handleLogOut = () => {\n    if (loggedIn) {\n      auth.logOut()\n        .then((res) => {\n          setLoggedIn(false);\n        })\n        .catch((error) => {\n          console.log(error);\n        })\n    }\n  }\n\n  const closeAllPopups = () => {\n    setEditAvatarPopupOpen(false);\n    setEditProfilePopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setInfoTooltipPopupOpen(false);\n    setSelectedCard(null);\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <Header isLoggedIn={loggedIn} userEmail={emailUser} onLogOut={handleLogOut} />\n        <Routes>\n          <Route path=\"/\"\n            element={\n              <RequireAuth\n                component={Main}\n                loggedIn={loggedIn}\n                cards={cards}\n                onCardLike={handleCardLike}\n                onCardDelete={handleCardDelete}\n                onCardClick={handleCardClick}\n                onEditAvatar={handleEditAvatarClick}\n                onEditProfile={handleEditProfileClick}\n                onAddPlace={handleAddPlaceClick}>\n              </RequireAuth>\n            }>\n          </Route>\n          <Route path=\"/sign-up\" element={<Registr onRegister={handleUserRegister} />} />\n          <Route path=\"/sign-in\" element={<Login onAuthorization={handleUserAuth} />} />\n        </Routes>\n\n        <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\n        <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddNewCard={handleAddPlaceSubmit} />\n        <PopupWithForm title=\"Вы уверены?\" name=\"delete\" buttonText=\"Да\" />\n        {selectedCard && <ImagePopup card={selectedCard} onClose={closeAllPopups} />}\n        <InfoTooltip isOpen={isInfoTooltipPopupOpen} onClose={closeAllPopups} isSuccess={isRequestSuccess} />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter basename='/'>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}